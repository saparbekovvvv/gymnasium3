{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/news/NewsCommentsContent/NewsCommentsContent.module.scss.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"button\": \"NewsCommentsContent-module-scss-module__frL7ca__button\",\n  \"commentActions\": \"NewsCommentsContent-module-scss-module__frL7ca__commentActions\",\n  \"commentAuthor\": \"NewsCommentsContent-module-scss-module__frL7ca__commentAuthor\",\n  \"commentDate\": \"NewsCommentsContent-module-scss-module__frL7ca__commentDate\",\n  \"commentForm\": \"NewsCommentsContent-module-scss-module__frL7ca__commentForm\",\n  \"commentHeader\": \"NewsCommentsContent-module-scss-module__frL7ca__commentHeader\",\n  \"commentItem\": \"NewsCommentsContent-module-scss-module__frL7ca__commentItem\",\n  \"commentText\": \"NewsCommentsContent-module-scss-module__frL7ca__commentText\",\n  \"commentTextarea\": \"NewsCommentsContent-module-scss-module__frL7ca__commentTextarea\",\n  \"commentsContainer\": \"NewsCommentsContent-module-scss-module__frL7ca__commentsContainer\",\n  \"commentsList\": \"NewsCommentsContent-module-scss-module__frL7ca__commentsList\",\n  \"deleteButton\": \"NewsCommentsContent-module-scss-module__frL7ca__deleteButton\",\n  \"editButton\": \"NewsCommentsContent-module-scss-module__frL7ca__editButton\",\n  \"submitButton\": \"NewsCommentsContent-module-scss-module__frL7ca__submitButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/news/NewsCommentsContent/NewsCommentsContent.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport styles from \"./NewsCommentsContent.module.scss\";\r\nimport {\r\n  useDeleteCommentMutation,\r\n  useGetCommentsQuery,\r\n  usePostCommentMutation,\r\n  useUpdateCommentMutation,\r\n} from \"@/redux/api/comments\";\r\n\r\n// Определение типа пропсов\r\ninterface NewsCommentsContentProps {\r\n  newsId: number; // Указываем тип для newsId\r\n}\r\n\r\nconst NewsCommentsContent: React.FC<NewsCommentsContentProps> = ({\r\n  newsId,\r\n}) => {\r\n  const { data: comments = [], error, isLoading } = useGetCommentsQuery();\r\n  const [postComment] = usePostCommentMutation();\r\n  const [updateComment] = useUpdateCommentMutation();\r\n  const [deleteComment] = useDeleteCommentMutation();\r\n\r\n  const [commentText, setCommentText] = useState<string>(\"\"); // Указываем тип для состояния\r\n  const [editCommentId, setEditCommentId] = useState<number | null>(null); // Указываем тип для состояния\r\n  const [updatedText, setUpdatedText] = useState<string>(\"\"); // Указываем тип для состояния\r\n\r\n  const handleCommentSubmit = async () => {\r\n    try {\r\n      await postComment({ text: commentText, news: newsId }).unwrap();\r\n      setCommentText(\"\");\r\n    } catch (error) {\r\n      console.error(\"Ошибка при создании комментария:\", error);\r\n    }\r\n  };\r\n\r\n  const handleUpdateComment = async (id: number) => {\r\n    try {\r\n      await updateComment({\r\n        id,\r\n        updatedComment: { text: updatedText, news: newsId },\r\n      }).unwrap();\r\n      setEditCommentId(null);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при обновлении комментария:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (id: number) => {\r\n    try {\r\n      await deleteComment(id).unwrap();\r\n    } catch (error) {\r\n      console.error(\"Ошибка при удалении комментария:\", error);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <p>Загрузка комментариев...</p>;\r\n  if (error) return <p>Ошибка при загрузке комментариев</p>;\r\n\r\n  return (\r\n    <div className={styles.commentsContainer}>\r\n      <h2>Комментарии</h2>\r\n      <ul className={styles.commentsList}>\r\n        {comments.map((comment) => (\r\n          <li key={comment.id} className={styles.commentItem}>\r\n            {editCommentId === comment.id ? (\r\n              <div>\r\n                <textarea\r\n                  className={styles.commentTextarea}\r\n                  value={updatedText}\r\n                  onChange={(e) => setUpdatedText(e.target.value)}\r\n                />\r\n                <button\r\n                  className={`${styles.button} ${styles.submitButton}`}\r\n                  onClick={() => handleUpdateComment(comment.id)}\r\n                >\r\n                  Сохранить\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                <div className={styles.commentHeader}>\r\n                  <span className={styles.commentAuthor}>{comment.author}</span>\r\n                  <span className={styles.commentDate}>\r\n                    {new Date(comment.created_at).toLocaleString()}\r\n                  </span>\r\n                </div>\r\n                <p className={styles.commentText}>{comment.text}</p>\r\n                <div className={styles.commentActions}>\r\n                  <button\r\n                    className={`${styles.button} ${styles.editButton}`}\r\n                    onClick={() => setEditCommentId(comment.id)}\r\n                  >\r\n                    Редактировать\r\n                  </button>\r\n                  <button\r\n                    className={`${styles.button} ${styles.deleteButton}`}\r\n                    onClick={() => handleDeleteComment(comment.id)}\r\n                  >\r\n                    Удалить\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className={styles.commentForm}>\r\n        <textarea\r\n          className={styles.commentTextarea}\r\n          value={commentText}\r\n          onChange={(e) => setCommentText(e.target.value)}\r\n          placeholder=\"Оставьте комментарий\"\r\n        />\r\n        <button\r\n          className={`${styles.button} ${styles.submitButton}`}\r\n          onClick={handleCommentSubmit}\r\n        >\r\n          Отправить\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsCommentsContent;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/redux/api/news/index.ts"],"sourcesContent":["import { api as index } from \"..\";\r\n\r\nconst ENDPOINTS = process.env.NEXT_PUBLIC_ENDPOINT;\r\n\r\nconst api = index.injectEndpoints({\r\n  endpoints: (build) => ({\r\n    getNews: build.query<NEWS.GetNewsResponse, NEWS.GetNewsRequest>({\r\n      query: () => ({\r\n        url: `${ENDPOINTS}/news/`,\r\n        method: \"GET\",\r\n      }),\r\n      providesTags: [\"news\"],\r\n    }),\r\n    getDetNews: build.query<NEWS.GetDetNewsResponse, NEWS.GetDetNewsRequest>({\r\n      query: (id) => ({\r\n        url: `${ENDPOINTS}/news/${id}`,\r\n        method: \"GET\",\r\n      }),\r\n      providesTags: [\"news\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetNewsQuery, useGetDetNewsQuery } = api;\r\n"],"names":[],"mappings":";;;;;;;AAEA,MAAM;AAEN,MAAM,MAAM,4HAAA,CAAA,MAAK,CAAC,eAAe,CAAC;IAChC,WAAW,CAAC,QAAU,CAAC;YACrB,SAAS,MAAM,KAAK,CAA4C;gBAC9D,OAAO,IAAM,CAAC;wBACZ,KAAK,CAAC,EAAE,UAAU,MAAM,CAAC;wBACzB,QAAQ;oBACV,CAAC;gBACD,cAAc;oBAAC;iBAAO;YACxB;YACA,YAAY,MAAM,KAAK,CAAkD;gBACvE,OAAO,CAAC,KAAO,CAAC;wBACd,KAAK,CAAC,EAAE,UAAU,MAAM,EAAE,GAAG,CAAC;wBAC9B,QAAQ;oBACV,CAAC;gBACD,cAAc;oBAAC;iBAAO;YACxB;QACF,CAAC;AACH;AAEO,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,GAAG"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/news/NewsMainContent/NewsMainContent.module.scss.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"NewsMainContent\": \"NewsMainContent-module-scss-module__T2_IYq__NewsMainContent\",\n  \"content\": \"NewsMainContent-module-scss-module__T2_IYq__content\",\n  \"news_card\": \"NewsMainContent-module-scss-module__T2_IYq__news_card\",\n  \"news_cards\": \"NewsMainContent-module-scss-module__T2_IYq__news_cards\",\n  \"news_end\": \"NewsMainContent-module-scss-module__T2_IYq__news_end\",\n  \"news_head\": \"NewsMainContent-module-scss-module__T2_IYq__news_head\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/news/NewsMainContent/NewsMainContent.tsx"],"sourcesContent":["\"use client\";\r\nimport { useGetNewsQuery } from \"@/redux/api/news\";\r\nimport scss from \"./NewsMainContent.module.scss\";\r\nimport Image from \"next/image\";\r\nimport { LuMessagesSquare } from \"react-icons/lu\";\r\nimport { useRouter } from \"next/navigation\";\r\nconst NewsMainContent = () => {\r\n  const { data } = useGetNewsQuery();\r\n  console.log(data, \"data\");\r\n\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <section className={scss.NewsMainContent}>\r\n      <div className=\"container\">\r\n        <div className={scss.content}>\r\n          <div className={scss.news_head}>\r\n            <h1>Новости</h1>\r\n            <hr />\r\n          </div>\r\n          <div className={scss.news_cards}>\r\n            {data?.map((item, index) => (\r\n              <div key={index} className={scss.news_card}>\r\n                <Image\r\n                  onClick={() => router.push(`/news/${item.id}`)}\r\n                  alt=\"news_img\"\r\n                  src={item.image}\r\n                  width={700}\r\n                  height={500}\r\n                  priority\r\n                  quality={70}\r\n                />\r\n                <h2\r\n                  style={{ width: \"100%\", maxWidth: \"320px\", height: \"90px\" }}\r\n                >\r\n                  {item.description}\r\n                  {/* Живая легенда. Что известно о <br />\r\n                  храбром учителе из Лейлека, <br />\r\n                  который защищал школу во время <br />\r\n                  беспорядков */}\r\n                </h2>\r\n                <div className={scss.news_end}>\r\n                  <p>{item.updated_at.slice(0, 10)}</p>\r\n                  <LuMessagesSquare />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default NewsMainContent;\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;;;;;AAMA,MAAM,kBAAkB;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,oIAAA,CAAA,kBAAe,AAAD;IAC/B,QAAQ,GAAG,CAAC,MAAM;IAElB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,qBACE,wPAAC;QAAQ,WAAW,0NAAA,CAAA,UAAI,CAAC,eAAe;kBACtC,cAAA,wPAAC;YAAI,WAAU;sBACb,cAAA,wPAAC;gBAAI,WAAW,0NAAA,CAAA,UAAI,CAAC,OAAO;;kCAC1B,wPAAC;wBAAI,WAAW,0NAAA,CAAA,UAAI,CAAC,SAAS;;0CAC5B,wPAAC;0CAAG;;;;;;0CACJ,wPAAC;;;;;;;;;;;kCAEH,wPAAC;wBAAI,WAAW,0NAAA,CAAA,UAAI,CAAC,UAAU;kCAC5B,MAAM,IAAI,CAAC,MAAM,sBAChB,wPAAC;gCAAgB,WAAW,0NAAA,CAAA,UAAI,CAAC,SAAS;;kDACxC,wPAAC,6HAAA,CAAA,UAAK;wCACJ,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;wCAC7C,KAAI;wCACJ,KAAK,KAAK,KAAK;wCACf,OAAO;wCACP,QAAQ;wCACR,QAAQ;wCACR,SAAS;;;;;;kDAEX,wPAAC;wCACC,OAAO;4CAAE,OAAO;4CAAQ,UAAU;4CAAS,QAAQ;wCAAO;kDAEzD,KAAK,WAAW;;;;;;kDAMnB,wPAAC;wCAAI,WAAW,0NAAA,CAAA,UAAI,CAAC,QAAQ;;0DAC3B,wPAAC;0DAAG,KAAK,UAAU,CAAC,KAAK,CAAC,GAAG;;;;;;0DAC7B,wPAAC,8IAAA,CAAA,mBAAgB;;;;;;;;;;;;+BArBX;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BxB;uCAEe"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}