{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/search/Search.tsx"],"sourcesContent":["\"use client\";\nimport { useGetSearchQuery } from \"@/redux/api/search\";\nimport { useSearchParams } from \"next/navigation\";\nimport React, { useMemo } from \"react\";\nimport styles from \"./Search.module.scss\"; // импортируем scss модуль\n\nconst Search = () => {\n  const searchParams = useSearchParams();\n  const query = searchParams?.get(\"query\") || \"\";\n\n  const searchRequest = useMemo(() => {\n    if (!query) return null;\n    if (/^\\d+$/.test(query)) {\n      return { school_class__grade: query };\n    }\n    return { full_name: query };\n  }, [query]);\n\n  const { data, error, isLoading } = useGetSearchQuery(searchRequest, {\n    skip: !searchRequest,\n  });\n\n  return (\n    <div className={styles.searchContainer}>\n      <h1 className={styles.title}>Результаты поиска для: {query}</h1>\n      {isLoading && <p className={styles.loading}>Загрузка...</p>}\n      {error && <p className={styles.error}>Произошла ошибка при поиске</p>}\n      {!isLoading && !error && data && data.length > 0 ? (\n        <ul className={styles.resultList}>\n          {data.map((result) => (\n            <li key={result.id} className={styles.resultItem}>\n              {result.last_name} {result.name}{\" \"}\n              {result.school_class__grade &&\n                `(Класс: ${result.school_class__grade})`}\n            </li>\n          ))}\n        </ul>\n      ) : !isLoading && !error ? (\n        <p className={styles.noResults}>Результатов не найдено</p>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Search;\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;;;;AAMA,MAAM,SAAS;IACb,MAAM,eAAe,CAAA,GAAA,uRAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,QAAQ,cAAc,IAAI,YAAY;IAE5C,MAAM,gBAAgB,CAAA,GAAA,oWAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,CAAC,OAAO,OAAO;QACnB,IAAI,QAAQ,IAAI,CAAC,QAAQ;YACvB,OAAO;gBAAE,qBAAqB;YAAM;QACtC;QACA,OAAO;YAAE,WAAW;QAAM;IAC5B,GAAG;QAAC;KAAM;IAEV,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,oBAAiB,AAAD,EAAE,eAAe;QAClE,MAAM,CAAC;IACT;IAEA,qBACE,6YAAC;QAAI,WAAW,gMAAA,CAAA,UAAM,CAAC,eAAe;;0BACpC,6YAAC;gBAAG,WAAW,gMAAA,CAAA,UAAM,CAAC,KAAK;;oBAAE;oBAAwB;;;;;;;YACpD,2BAAa,6YAAC;gBAAE,WAAW,gMAAA,CAAA,UAAM,CAAC,OAAO;0BAAE;;;;;;YAC3C,uBAAS,6YAAC;gBAAE,WAAW,gMAAA,CAAA,UAAM,CAAC,KAAK;0BAAE;;;;;;YACrC,CAAC,aAAa,CAAC,SAAS,QAAQ,KAAK,MAAM,GAAG,kBAC7C,6YAAC;gBAAG,WAAW,gMAAA,CAAA,UAAM,CAAC,UAAU;0BAC7B,KAAK,GAAG,CAAC,CAAC,uBACT,6YAAC;wBAAmB,WAAW,gMAAA,CAAA,UAAM,CAAC,UAAU;;4BAC7C,OAAO,SAAS;4BAAC;4BAAE,OAAO,IAAI;4BAAE;4BAChC,OAAO,mBAAmB,IACzB,CAAC,QAAQ,EAAE,OAAO,mBAAmB,CAAC,CAAC,CAAC;;uBAHnC,OAAO,EAAE;;;;;;;;;uBAOpB,CAAC,aAAa,CAAC,sBACjB,6YAAC;gBAAE,WAAW,gMAAA,CAAA,UAAM,CAAC,SAAS;0BAAE;;;;;uBAC9B;;;;;;;AAGV;uCAEe"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}