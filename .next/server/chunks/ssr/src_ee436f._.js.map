{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/search/Search.tsx"],"sourcesContent":["\"use client\";\r\nimport { useGetSearchQuery } from \"@/redux/api/search\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport React, { useMemo } from \"react\";\r\nimport StudentsMainContent from \"../students/StudentsMainContent/StudentsMainContent\";\r\n\r\nconst Search = () => {\r\n  const searchParams = useSearchParams();\r\n  const query = searchParams?.get(\"query\") || \"\";\r\n\r\n  const searchRequest = useMemo(() => {\r\n    if (!query) return null;\r\n    if (/^\\d+$/.test(query)) {\r\n      return { school_class__grade: query };\r\n    }\r\n    return { full_name: query };\r\n  }, [query]);\r\n\r\n  const { data, error, isLoading } = useGetSearchQuery(searchRequest, {\r\n    skip: !searchRequest,\r\n  });\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"100px\" }}>\r\n      <h1>Результаты поиска для: {query}</h1>\r\n      {isLoading && <p>Загрузка...</p>}\r\n      {error && <p>Произошла ошибка при поиске</p>}\r\n      {!isLoading && !error && data && data.length > 0 ? (\r\n        <ul>\r\n          {data.map((result) => (\r\n            <li key={result.id}>\r\n              {result.last_name} {result.name}{\" \"}\r\n              {result.school_class__grade &&\r\n                `(Класс: ${result.school_class__grade})`}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : !isLoading && !error ? (\r\n        <p>Результатов не найдено</p>\r\n      ) : null}\r\n      <h1>Студенты</h1>\r\n      <h1>Студенты</h1>\r\n      <h1>Студенты</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;;AAMA,MAAM,SAAS;IACb,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,QAAQ,cAAc,IAAI,YAAY;IAE5C,MAAM,gBAAgB,CAAA,GAAA,+MAAA,CAAA,UAAO,AAAD,EAAE;QAC5B,IAAI,CAAC,OAAO,OAAO;QACnB,IAAI,QAAQ,IAAI,CAAC,QAAQ;YACvB,OAAO;gBAAE,qBAAqB;YAAM;QACtC;QACA,OAAO;YAAE,WAAW;QAAM;IAC5B,GAAG;QAAC;KAAM;IAEV,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,sIAAA,CAAA,oBAAiB,AAAD,EAAE,eAAe;QAClE,MAAM,CAAC;IACT;IAEA,qBACE,wPAAC;QAAI,OAAO;YAAE,YAAY;QAAQ;;0BAChC,wPAAC;;oBAAG;oBAAwB;;;;;;;YAC3B,2BAAa,wPAAC;0BAAE;;;;;;YAChB,uBAAS,wPAAC;0BAAE;;;;;;YACZ,CAAC,aAAa,CAAC,SAAS,QAAQ,KAAK,MAAM,GAAG,kBAC7C,wPAAC;0BACE,KAAK,GAAG,CAAC,CAAC,uBACT,wPAAC;;4BACE,OAAO,SAAS;4BAAC;4BAAE,OAAO,IAAI;4BAAE;4BAChC,OAAO,mBAAmB,IACzB,CAAC,QAAQ,EAAE,OAAO,mBAAmB,CAAC,CAAC,CAAC;;uBAHnC,OAAO,EAAE;;;;;;;;;uBAOpB,CAAC,aAAa,CAAC,sBACjB,wPAAC;0BAAE;;;;;uBACD;0BACJ,wPAAC;0BAAG;;;;;;0BACJ,wPAAC;0BAAG;;;;;;0BACJ,wPAAC;0BAAG;;;;;;;;;;;;AAGV;uCAEe"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}