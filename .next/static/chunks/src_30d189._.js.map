{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/redux/api/fond/index.ts"],"sourcesContent":["import { api as index } from \"..\";\n\nconst ENDPOINTS = process.env.NEXT_PUBLIC_ENDPOINT;\n\n// Функция для получения CSRF токена из cookie\nfunction getCsrfToken() {\n  const name = \"csrftoken=\";\n  const decodedCookie = decodeURIComponent(document.cookie);\n  const cookieArray = decodedCookie.split(\";\");\n  for (let i = 0; i < cookieArray.length; i++) {\n    let cookie = cookieArray[i].trim();\n    if (cookie.indexOf(name) === 0) {\n      return cookie.substring(name.length, cookie.length);\n    }\n  }\n  return \"\";\n}\n\nconst api = index.injectEndpoints({\n  endpoints: (build) => ({\n    getFond: build.query<DONATIONS.GetFondResponse, DONATIONS.GetFondRequest>({\n      query: () => ({\n        url: `${ENDPOINTS}/donations/`,\n        method: \"GET\",\n      }),\n      providesTags: [\"donations\"],\n    }),\n    postDonations: build.mutation<DONATIONS.CreateDonationResponse, FormData>({\n      query: (data) => {\n        console.log(\"postDonations called with data:\", {\n          amount: data.get(\"amount\"),\n          comment: data.get(\"comment\"),\n          file: data.get(\"confirmation_file\"),\n        });\n\n        return {\n          url: `${ENDPOINTS}/donations/`,\n          method: \"POST\",\n          body: data,\n          headers: {\n            \"X-CSRFToken\": getCsrfToken(),\n          },\n        };\n      },\n      invalidatesTags: [\"donations\"],\n    }),\n  }),\n});\n\nexport const { useGetFondQuery, usePostDonationsMutation } = api;\n"],"names":[],"mappings":";;;;;;;;AAEA,MAAM;AAEN,8CAA8C;AAC9C,SAAS;IACP,MAAM,OAAO;IACb,MAAM,gBAAgB,mBAAmB,SAAS,MAAM;IACxD,MAAM,cAAc,cAAc,KAAK,CAAC;IACxC,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,MAAM,EAAE,IAAK;QAC3C,IAAI,SAAS,WAAW,CAAC,EAAE,CAAC,IAAI;QAChC,IAAI,OAAO,OAAO,CAAC,UAAU,GAAG;YAC9B,OAAO,OAAO,SAAS,CAAC,KAAK,MAAM,EAAE,OAAO,MAAM;QACpD;IACF;IACA,OAAO;AACT;AAEA,MAAM,MAAM,+HAAA,CAAA,MAAK,CAAC,eAAe,CAAC;IAChC,WAAW,CAAC,QAAU,CAAC;YACrB,SAAS,MAAM,KAAK,CAAsD;gBACxE,OAAO,IAAM,CAAC;wBACZ,KAAK,CAAC,EAAE,UAAU,WAAW,CAAC;wBAC9B,QAAQ;oBACV,CAAC;gBACD,cAAc;oBAAC;iBAAY;YAC7B;YACA,eAAe,MAAM,QAAQ,CAA6C;gBACxE,OAAO,CAAC;oBACN,QAAQ,GAAG,CAAC,mCAAmC;wBAC7C,QAAQ,KAAK,GAAG,CAAC;wBACjB,SAAS,KAAK,GAAG,CAAC;wBAClB,MAAM,KAAK,GAAG,CAAC;oBACjB;oBAEA,OAAO;wBACL,KAAK,CAAC,EAAE,UAAU,WAAW,CAAC;wBAC9B,QAAQ;wBACR,MAAM;wBACN,SAAS;4BACP,eAAe;wBACjB;oBACF;gBACF;gBACA,iBAAiB;oBAAC;iBAAY;YAChC;QACF,CAAC;AACH;AAEO,MAAM,EAAE,eAAe,EAAE,wBAAwB,EAAE,GAAG"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/fond/FondContent/FondContent.module.scss.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"amount\": \"FondContent-module-scss-module__zBo9Xq__amount\",\n  \"comment\": \"FondContent-module-scss-module__zBo9Xq__comment\",\n  \"container\": \"FondContent-module-scss-module__zBo9Xq__container\",\n  \"content\": \"FondContent-module-scss-module__zBo9Xq__content\",\n  \"divider\": \"FondContent-module-scss-module__zBo9Xq__divider\",\n  \"donateButton\": \"FondContent-module-scss-module__zBo9Xq__donateButton\",\n  \"donateLink\": \"FondContent-module-scss-module__zBo9Xq__donateLink\",\n  \"donationItem\": \"FondContent-module-scss-module__zBo9Xq__donationItem\",\n  \"donationsList\": \"FondContent-module-scss-module__zBo9Xq__donationsList\",\n  \"donor\": \"FondContent-module-scss-module__zBo9Xq__donor\",\n  \"fondContent\": \"FondContent-module-scss-module__zBo9Xq__fondContent\",\n  \"message\": \"FondContent-module-scss-module__zBo9Xq__message\",\n  \"title\": \"FondContent-module-scss-module__zBo9Xq__title\",\n  \"totalPrice\": \"FondContent-module-scss-module__zBo9Xq__totalPrice\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/src/appPages/site/components/pages/fond/FondContent/FondContent.tsx"],"sourcesContent":["\"use client\";\n\nimport { useGetFondQuery } from \"@/redux/api/fond\";\nimport scss from \"./FondContent.module.scss\";\nimport Link from \"next/link\";\nimport { useLanguageStore } from \"@/stores/useLanguageStore\";\n\nconst FondContent = () => {\n  const { data, isLoading, isError } = useGetFondQuery();\n  const { isKyrgyz, t } = useLanguageStore();\n\n  const totalPrice = data\n    ? data.reduce((total, item) => {\n        return item.is_verified ? total + Math.floor(+item.amount) : total;\n      }, 0)\n    : 0;\n\n  return (\n    <div className={scss.fondContent}>\n      <div className={scss.container}>\n        <div className={scss.content}>\n          <h1 className={scss.title}>Фонд</h1>\n          <hr className={scss.divider} />\n\n          {isLoading && (\n            <p className={scss.message}>Загрузка пожертвований...</p>\n          )}\n          {isError && (\n            <p className={scss.message}>\n              Ошибка при загрузке пожертвований. Пожалуйста, попробуйте позже.\n            </p>\n          )}\n\n          <div className={scss.totalPrice}>\n            <h3>\n              {t(\"Жалпы сумма\", \"Общая сумма\")} <span>{totalPrice} Сом</span>\n            </h3>\n          </div>\n\n          {data && data.length > 0 ? (\n            <div className={scss.donationsList}>\n              {data.map((item) =>\n                item.is_verified ? (\n                  <div key={item.id} className={scss.donationItem}>\n                    <h2 className={scss.donor}>\n                      {\" \"}\n                      {t(\"Жөнөтүүчү\", \"Отправитель\")}: {item.user}\n                    </h2>\n                    <p className={scss.amount}>\n                      {Math.floor(+item.amount)} Сом\n                    </p>\n                    {item.comment && (\n                      <p className={scss.comment}>{item.comment}</p>\n                    )}\n                  </div>\n                ) : null\n              )}\n            </div>\n          ) : (\n            <p className={scss.message}> не найдено.</p>\n          )}\n\n          <Link href=\"/fond/donation\" className={scss.donateLink}>\n            <button className={scss.donateButton}>\n              {t(\"Акча салуу\", \"Внести деньги\")}\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FondContent;\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,cAAc;;IAClB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,kBAAe,AAAD;IACnD,MAAM,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,qIAAA,CAAA,mBAAgB,AAAD;IAEvC,MAAM,aAAa,OACf,KAAK,MAAM,CAAC,CAAC,OAAO;QAClB,OAAO,KAAK,WAAW,GAAG,QAAQ,KAAK,KAAK,CAAC,CAAC,KAAK,MAAM,IAAI;IAC/D,GAAG,KACH;IAEJ,qBACE,kVAAC;QAAI,WAAW,qNAAA,CAAA,UAAI,CAAC,WAAW;kBAC9B,cAAA,kVAAC;YAAI,WAAW,qNAAA,CAAA,UAAI,CAAC,SAAS;sBAC5B,cAAA,kVAAC;gBAAI,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;;kCAC1B,kVAAC;wBAAG,WAAW,qNAAA,CAAA,UAAI,CAAC,KAAK;kCAAE;;;;;;kCAC3B,kVAAC;wBAAG,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;;;;;;oBAE1B,2BACC,kVAAC;wBAAE,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;kCAAE;;;;;;oBAE7B,yBACC,kVAAC;wBAAE,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;kCAAE;;;;;;kCAK9B,kVAAC;wBAAI,WAAW,qNAAA,CAAA,UAAI,CAAC,UAAU;kCAC7B,cAAA,kVAAC;;gCACE,EAAE,eAAe;gCAAe;8CAAC,kVAAC;;wCAAM;wCAAW;;;;;;;;;;;;;;;;;;oBAIvD,QAAQ,KAAK,MAAM,GAAG,kBACrB,kVAAC;wBAAI,WAAW,qNAAA,CAAA,UAAI,CAAC,aAAa;kCAC/B,KAAK,GAAG,CAAC,CAAC,OACT,KAAK,WAAW,iBACd,kVAAC;gCAAkB,WAAW,qNAAA,CAAA,UAAI,CAAC,YAAY;;kDAC7C,kVAAC;wCAAG,WAAW,qNAAA,CAAA,UAAI,CAAC,KAAK;;4CACtB;4CACA,EAAE,aAAa;4CAAe;4CAAG,KAAK,IAAI;;;;;;;kDAE7C,kVAAC;wCAAE,WAAW,qNAAA,CAAA,UAAI,CAAC,MAAM;;4CACtB,KAAK,KAAK,CAAC,CAAC,KAAK,MAAM;4CAAE;;;;;;;oCAE3B,KAAK,OAAO,kBACX,kVAAC;wCAAE,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;kDAAG,KAAK,OAAO;;;;;;;+BATnC,KAAK,EAAE;;;;uCAYf;;;;;6CAIR,kVAAC;wBAAE,WAAW,qNAAA,CAAA,UAAI,CAAC,OAAO;kCAAE;;;;;;kCAG9B,kVAAC,oRAAA,CAAA,UAAI;wBAAC,MAAK;wBAAiB,WAAW,qNAAA,CAAA,UAAI,CAAC,UAAU;kCACpD,cAAA,kVAAC;4BAAO,WAAW,qNAAA,CAAA,UAAI,CAAC,YAAY;sCACjC,EAAE,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/B;GAhEM;;QACiC,uIAAA,CAAA,kBAAe;QAC5B,qIAAA,CAAA,mBAAgB;;;KAFpC;uCAkES"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}